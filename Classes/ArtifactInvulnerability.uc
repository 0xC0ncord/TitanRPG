class ArtifactInvulnerability extends RPGArtifact;

var Material EffectOverlay;

state Activated
{
	function BeginState()
	{
		Super.BeginState();
		
		Instigator.Controller.bGodMode = true;
		class'SyncOverlayMaterial'.static.Sync(Instigator, EffectOverlay, -1, true);
		
		SetTimer(0.5, true);
	}
	
	function Timer()
	{
		if(Instigator.OverlayMaterial == None)
			class'SyncOverlayMaterial'.static.Sync(Instigator, EffectOverlay, -1, true);
	}

	function EndState()
	{
		SetTimer(0, false);
	
		if(Instigator != None)
		{
			class'SyncOverlayMaterial'.static.Sync(Instigator, None, 0, true);
			Instigator.Controller.bGodMode = false;
		}
		
		Super.EndState();
	}
}

defaultproperties
{
	ActivateSound=Sound'<? echo($packageName); ?>.SoundEffects.ProtectionArtifact'
	EffectOverlay=Shader'<? echo($packageName); ?>.Overlays.GlobeOverlay'
	CostPerSec=10
	MinActivationTime=1.000000
	bExclusive=True
	HudColor=(B=128,G=192,R=224)
	Description="Makes you invulnerable."
	PickupClass=Class'ArtifactPickupInvulnerability'
	IconMaterial=Texture'<? echo($packageName); ?>.ArtifactIcons.Globe'
	ItemName="Invulnerability"
}
